<div class="row justify-content-center">
  <div class="col-lg-9">
    <div class="card">
      <div class="card-header">
        <div class="row align-items-center">
          <div class="col">
            <h4 class="card-title">Image Cropper</h4>
          </div>
          <!--end col-->
        </div>
        <!--end row-->
      </div>
      <!--end card-header-->
      <div class="card-body pt-0">
        <div class="img-container mb-0">
          <angular-cropper
            #angularCropper
            [cropperOptions]="cropperConfig"
            [imageUrl]="'assets/images/extra/card/img-1.jpg'"
          >
          </angular-cropper>
        </div>
      </div>
      <!--end card-body-->
    </div>
    <!--end card-->
    <div id="actions">
      <div class="card docs-buttons">
        <div class="card-body">
          <div class="btn-group mb-2 mr-1 me-0.5">
            <button
              type="button"
              class="btn btn-light"
              data-method="setDragMode"
              data-option="move"
              title="Move"
              (click)="move(0, 0)"
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("setDragMode", "move")'
              >
                <span class="fas fa-expand-arrows-alt"></span>
              </span>
            </button>
            <button
              type="button"
              class="btn btn-light"
              data-method="setDragMode"
              data-option="crop"
              title="Crop"
              (click)="crop()"
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("setDragMode", "crop")'
              >
                <span class="fas fa-crop"></span>
              </span>
            </button>
          </div>

          <div class="btn-group mb-2 mr-1 me-0.5">
            <button
              type="button"
              class="btn btn-light"
              (click)="zoom(0.1)"
              data-method="zoom"
              data-option="0.1"
              title="Zoom In"
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("zoom", 0.1)'
              >
                <span class="fas fa-search-plus"></span>
              </span>
            </button>
            <button
              type="button"
              class="btn btn-light"
              (click)="zoom(-0.1)"
              data-method="zoom"
              data-option="-0.1"
              title="Zoom Out"
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("zoom", -0.1)'
              >
                <span class="fas fa-search-minus"></span>
              </span>
            </button>
          </div>

          <div class="btn-group mb-2 mr-1 me-0.5">
            <button
              type="button"
              class="btn btn-light"
              (click)="move(-5, 0)"
              data-method="move"
              s
              data-option="-10"
              data-second-option="0"
              title="Move Left"
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("move", -10, 0)'
              >
                <span class="fas fa-arrow-left"></span>
              </span>
            </button>
            <button
              type="button"
              class="btn btn-light"
              (click)="move(5, 0)"
              data-method="move"
              data-option="10"
              data-second-option="0"
              title="Move Right"
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("move", 10, 0)'
              >
                <span class="fas fa-arrow-right"></span>
              </span>
            </button>
            <button
              type="button"
              class="btn btn-light"
              (click)="move(0, -5)"
              data-method="move"
              data-option="0"
              data-second-option="-10"
              title="Move Up"
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("move", 0, -10)'
              >
                <span class="fas fa-arrow-up"></span>
              </span>
            </button>
            <button
              type="button"
              class="btn btn-light"
              (click)="move(0, 5)"
              data-method="move"
              data-option="0"
              data-second-option="10"
              title="Move Down"
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("move", 0, 10)'
              >
                <span class="fa fa-arrow-down"></span>
              </span>
            </button>
          </div>

          <div class="btn-group mb-2 mr-1 me-0.5">
            <button
              type="button"
              class="btn btn-light"
              (click)="rotate(45)"
              data-method="rotate"
              data-option="-45"
              title="Rotate Left"
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("rotate", -45)'
              >
                <span class="fas fa-reply"></span>
              </span>
            </button>
            <button
              type="button"
              class="btn btn-light"
              (click)="rotate(-45)"
              data-method="rotate"
              data-option="45"
              title="Rotate Right"
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("rotate", 45)'
              >
                <span class="fas fa-share"></span>
              </span>
            </button>
          </div>

          <div class="btn-group mb-2 mr-1 me-0.5">
            <button
              type="button"
              class="btn btn-light"
              (click)="scalex()"
              data-method="scaleX"
              data-option="-1"
              title="Flip Horizontal"
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("scaleX", -1)'
              >
                <span class="fa fa-arrows-alt-h"></span>
              </span>
            </button>
            <button
              type="button"
              class="btn btn-light"
              (click)="scaleY()"
              data-method="scaleY"
              data-option="-1"
              title="Flip Vertical"
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("scaleY", -1)'
              >
                <span class="fas fa-arrows-alt-v"></span>
              </span>
            </button>
          </div>

          <div class="btn-group mb-2 mr-1 me-0.5">
            <button
              type="button"
              class="btn btn-light"
              data-method="crop"
              (click)="crop()"
              title="Crop"
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("crop")'
              >
                <span class="fas fa-check"></span>
              </span>
            </button>
            <button
              type="button"
              class="btn btn-light"
              data-method="clear"
              (click)="clear()"
              title="Clear"
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("clear")'
              >
                <span class="fas fa-times"></span>
              </span>
            </button>
          </div>

          <div class="btn-group mb-2 mr-1 me-0.5">
            <button
              type="button"
              class="btn btn-light"
              data-method="disable"
              (click)="disable()"
              title="Disable"
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("disable")'
              >
                <span class="fas fa-lock"></span>
              </span>
            </button>
            <button
              type="button"
              class="btn btn-light"
              data-method="enable"
              (click)="enable()"
              title="Enable"
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("enable")'
              >
                <span class="fas fa-unlock"></span>
              </span>
            </button>
          </div>

          <div class="btn-group mb-2 mr-1 me-0.5">
            <button
              type="button"
              class="btn btn-light"
              data-method="reset"
              (click)="reset()"
              title="Reset"
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("reset")'
              >
                <span class="fas fa-redo"></span>
              </span>
            </button>
            <button
              type="button"
              class="btn btn-light btn-upload"
              title="Upload image file"
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip="Import image with Blob URLs"
              >
                <span class="fas fa-upload"></span>
              </span>
            </button>
            <button
              type="button"
              class="btn btn-light"
              data-method="destroy"
              (click)="destroy()"
              title="Destroy"
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("destroy")'
              >
                <span class="fas fa-power-off"></span>
              </span>
            </button>
          </div>

          <div class="btn-group btn-group-crop mb-2 mr-1 me-0.5">
            <button
              type="button"
              class="btn btn-primary"
              data-method="getCroppedCanvas"
              data-option='{ "width": 160, "height": 90 }'
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("getCroppedCanvas", { width: 160, height: 90 })'
              >
                160&times;90
              </span>
            </button>
            <button
              type="button"
              class="btn btn-primary"
              data-method="getCroppedCanvas"
              data-option='{ "width": 320, "height": 180 }'
            >
              <span
                class="docs-tooltip"
                data-animation="false"
                ngbTooltip='$().cropper("getCroppedCanvas", { width: 320, height: 180 })'
              >
                320&times;180
              </span>
            </button>
          </div>

          <div
            class="modal fade docs-cropped"
            id="getCroppedCanvasModal"
            aria-hidden="true"
            aria-labelledby="getCroppedCanvasTitle"
            role="dialog"
            tabindex="-1"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="getCroppedCanvasTitle">
                    Cropped
                  </h5>
                  <button
                    type="button"
                    class="close"
                    data-dismiss="modal"
                    aria-label="Close"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body"></div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-dismiss="modal"
                  >
                    Close
                  </button>
                  <a
                    class="btn btn-primary"
                    id="download"
                    href="javascript:void(0);"
                    download="cropped.jpg"
                    >Download</a
                  >
                </div>
              </div>
            </div>
          </div>

          <button
            type="button"
            (click)="getData()"
            class="btn btn-secondary mb-2 mr-1 me-0.5"
            data-method="getData"
            data-option
            data-target="#putData"
          >
            <span
              class="docs-tooltip"
              data-animation="false"
              ngbTooltip='$().cropper("getData")'
            >
              Get Data
            </span>
          </button>
          <button
            type="button"
            (click)="setCanvasData({})"
            class="btn btn-secondary mb-2 mr-1 me-0.5"
            data-method="setData"
            data-target="#putData"
          >
            <span
              class="docs-tooltip"
              data-animation="false"
              ngbTooltip='$().cropper("setData", data)'
            >
              Set Data
            </span>
          </button>
          <button
            type="button"
            (click)="getContainerData()"
            class="btn btn-secondary mb-2 mr-1 me-0.5"
            data-method="getContainerData"
            data-option
            data-target="#putData"
          >
            <span
              class="docs-tooltip"
              data-animation="false"
              ngbTooltip='$().cropper("getContainerData")'
            >
              Get Container Data
            </span>
          </button>
          <button
            type="button"
            (click)="getImageData()"
            class="btn btn-secondary mb-2 mr-1 me-0.5"
            data-method="getImageData"
            data-option
            data-target="#putData"
          >
            <span
              class="docs-tooltip"
              data-animation="false"
              ngbTooltip='$().cropper("getImageData")'
            >
              Get Image Data
            </span>
          </button>
          <button
            type="button"
            (click)="getCanvasData()"
            class="btn btn-secondary mb-2 mr-1 me-0.5"
            data-method="getCanvasData"
            data-option
            data-target="#putData"
          >
            <span
              class="docs-tooltip"
              data-animation="false"
              ngbTooltip='$().cropper("getCanvasData")'
            >
              Get Canvas Data
            </span>
          </button>
          <button
            type="button"
            (click)="settCanvasData({})"
            class="btn btn-secondary mb-2 mr-1 me-0.5"
            data-method="setCanvasData"
            data-target="#putData"
          >
            <span
              class="docs-tooltip"
              data-animation="false"
              ngbTooltip='$().cropper("setCanvasData", data)'
            >
              Set Canvas Data
            </span>
          </button>
          <button
            type="button"
            (click)="getCropBoxData()"
            class="btn btn-secondary mb-2 mr-1 me-0.5"
            data-method="getCropBoxData"
            data-option
            data-target="#putData"
          >
            <span
              class="docs-tooltip"
              data-animation="false"
              ngbTooltip='$().cropper("getCropBoxData")'
            >
              Get Crop Box Data
            </span>
          </button>
          <button
            (click)="settCanvasData({})"
            type="button"
            class="btn btn-secondary mb-2 mr-1 me-0.5"
            data-method="setCropBoxData"
            data-target="#putData"
          >
            <span
              class="docs-tooltip"
              data-animation="false"
              ngbTooltip='$().cropper("setCropBoxData", data)'
            >
              Set Crop Box Data
            </span>
          </button>
          <button
            type="button"
            (click)="moveTo(0, 0)"
            class="btn btn-secondary mb-2 mr-1 me-0.5"
            data-method="moveTo"
            data-option="0"
          >
            <span
              class="docs-tooltip"
              data-animation="false"
              ngbTooltip="cropper.moveTo(0)"
            >
              Move to [0,0]
            </span>
          </button>
          <button
            type="button"
            (click)="zoomTo(1)"
            class="btn btn-secondary mb-2 mr-1 me-0.5"
            data-method="zoomTo"
            data-option="1"
          >
            <span
              class="docs-tooltip"
              data-animation="false"
              ngbTooltip="cropper.zoomTo(1)"
            >
              Zoom to 100%
            </span>
          </button>
          <button
            type="button"
            (click)="rotateTo(180)"
            class="btn btn-secondary mb-2 mr-1 me-0.5"
            data-method="rotateTo"
            data-option="180"
          >
            <span
              class="docs-tooltip"
              data-animation="false"
              ngbTooltip="cropper.rotateTo(180)"
            >
              Rotate 180°
            </span>
          </button>
          <button
            type="button"
            (click)="scaleTo(-2)"
            class="btn btn-secondary mb-2 mr-1 me-0.5"
            data-method="scale"
            data-option="-2"
            data-second-option="-1"
          >
            <span class="docs-tooltip" ngbTooltip="cropper.scale(-2, -1)">
              Scale (-2, -1)
            </span>
          </button>
          <textarea
            class="form-control"
            #putData
            id="putData"
            rows="3"
            placeholder="Get data to here or set data with this value"
          ></textarea>
        </div>
        <!--end card-body-->
      </div>
      <!--end card-->
    </div>
    <!--end action-->
  </div>
  <!--end col-->
  <div class="col-lg-3">
    <div class="card">
      <div class="card-body">
        <div class="docs-preview clearfix">
          <div class="img-preview preview-lg"></div>
          <div class="img-preview preview-md"></div>
          <div class="img-preview preview-sm"></div>
          <div class="img-preview preview-xs"></div>
        </div>

        <div class="docs-data">
          <div class="input-group mb-2">
            <span class="input-group-text">X</span>
            <input
              type="text"
              class="form-control"
              id="dataX"
              placeholder="x"
              [value]="cropperData?.x"
            />
            <span class="input-group-text">px</span>
          </div>
          <div class="input-group mb-2">
            <span class="input-group-text">Y</span>
            <input
              type="text"
              class="form-control"
              id="dataY"
              placeholder="y"
              [value]="cropperData?.y"
            />
            <span class="input-group-text">px</span>
          </div>
          <div class="input-group mb-2">
            <span class="input-group-text">Width</span>
            <input
              type="text"
              class="form-control"
              id="dataWidth"
              placeholder="width"
              [value]="cropperData?.width"
            />
            <span class="input-group-text">px</span>
          </div>
          <div class="input-group mb-2">
            <span class="input-group-text">Height</span>
            <input
              type="text"
              class="form-control"
              id="dataHeight"
              placeholder="height"
              [value]="cropperData?.height"
            />
            <span class="input-group-text">px</span>
          </div>
          <div class="input-group mb-2">
            <span class="input-group-text">Rotate</span>
            <input
              type="text"
              class="form-control"
              id="dataRotate"
              placeholder="rotate"
              [value]="cropperData?.rotate"
            />
            <span class="input-group-text">deg</span>
          </div>
          <div class="input-group mb-2">
            <span class="input-group-text">ScaleX</span>
            <input
              type="text"
              class="form-control"
              id="dataScaleX"
              placeholder="scaleX"
              [value]="cropperData?.scaleX"
            />
          </div>
          <div class="input-group mb-0">
            <span class="input-group-text">ScaleY</span>
            <input
              type="text"
              class="form-control"
              id="dataScaleY"
              placeholder="scaleY"
              [value]="cropperData?.scaleY"
            />
          </div>
        </div>
      </div>
      <!--end card-body-->
    </div>
    <!--end card-->
    <div class="card docs-toggles">
      <div class="card-body">
        <div class="btn-group d-flex flex-nowrap" data-toggle="buttons">
          <label
            class="btn btn-light mb-1"
            [ngClass]="{ active: aspectRatio == 1.7777777 }"
          >
            <input
              type="radio"
              class="sr-only"
              (change)="ratio(1.7777777)"
              id="aspectRatio0"
              name="aspectRatio"
              value="1.7777777777777777"
            />
            <span
              class="docs-tooltip"
              data-animation="false"
              title="aspectRatio: 16 / 9"
            >
              16:9
            </span>
          </label>
          <label
            class="btn btn-light mb-1"
            [ngClass]="{ active: aspectRatio == 1.333333 }"
          >
            <input
              type="radio"
              class="sr-only"
              (change)="ratio(1.333333)"
              id="aspectRatio1"
              name="aspectRatio"
              value="1.3333333333333333"
            />
            <span
              class="docs-tooltip"
              data-animation="false"
              title="aspectRatio: 4 / 3"
            >
              4:3
            </span>
          </label>
          <label
            class="btn btn-light mb-1"
            [ngClass]="{ active: aspectRatio == 1 }"
          >
            <input
              type="radio"
              class="sr-only"
              (change)="ratio(1)"
              id="aspectRatio2"
              name="aspectRatio"
              value="1"
            />
            <span
              class="docs-tooltip"
              data-animation="false"
              title="aspectRatio: 1 / 1"
            >
              1:1
            </span>
          </label>
          <label
            class="btn btn-light mb-1"
            [ngClass]="{ active: aspectRatio == 0.6666666 }"
          >
            <input
              type="radio"
              class="sr-only"
              (change)="ratio(0.6666666)"
              id="aspectRatio3"
              name="aspectRatio"
              value="0.6666666666666666"
            />
            <span
              class="docs-tooltip"
              data-animation="false"
              title="aspectRatio: 2 / 3"
            >
              2:3
            </span>
          </label>
          <label class="btn btn-light mb-1">
            <input
              type="radio"
              class="sr-only"
              (change)="ratio(1.7777777)"
              id="aspectRatio4"
              name="aspectRatio"
              value="NaN"
            />
            <span
              class="docs-tooltip"
              data-animation="false"
              title="aspectRatio: NaN"
            >
              Free
            </span>
          </label>
        </div>

        <div class="btn-group d-flex flex-nowrap" data-toggle="buttons">
          <label
            class="btn btn-light mb-1"
            [ngClass]="{ active: viewMode == 0 }"
          >
            <input
              type="radio"
              class="sr-only"
              id="viewMode0"
              name="viewMode"
              [(ngModel)]="viewMode"
              (change)="changeViewMode()"
              value="0"
            />
            <span
              class="docs-tooltip"
              data-animation="false"
              title="View Mode 0"
            >
              VM0
            </span>
          </label>
          <label
            class="btn btn-light mb-1"
            [ngClass]="{ active: viewMode == 1 }"
          >
            <input
              type="radio"
              class="sr-only"
              id="viewMode1"
              name="viewMode"
              [(ngModel)]="viewMode"
              (change)="changeViewMode()"
              value="1"
            />
            <span
              class="docs-tooltip"
              data-animation="false"
              title="View Mode 1"
            >
              VM1
            </span>
          </label>
          <label
            class="btn btn-light mb-1"
            [ngClass]="{ active: viewMode == 2 }"
          >
            <input
              type="radio"
              class="sr-only"
              id="viewMode2"
              name="viewMode"
              [(ngModel)]="viewMode"
              (change)="changeViewMode()"
              value="2"
            />
            <span
              class="docs-tooltip"
              data-animation="false"
              title="View Mode 2"
            >
              VM2
            </span>
          </label>
          <label
            class="btn btn-light mb-1"
            [ngClass]="{ active: viewMode == 3 }"
          >
            <input
              type="radio"
              class="sr-only"
              id="viewMode3"
              name="viewMode"
              [(ngModel)]="viewMode"
              (change)="changeViewMode()"
              value="3"
            />
            <span
              class="docs-tooltip"
              data-animation="false"
              title="View Mode 3"
            >
              VM3
            </span>
          </label>
        </div>

        <div
          class="dropdown dropup docs-options mt-2"
          ngbDropdown
          [placement]="'top'"
        >
          <button
            type="button"
            ngbDropdownToggle
            class="btn btn-secondary dropdown-toggle w-100"
            id="toggleOptions"
            data-bs-toggle="dropdown"
            aria-expanded="true"
          >
            Toggle Options
            <span class="caret"></span>
          </button>
          <ul
            class="dropdown-menu"
            aria-labelledby="toggleOptions"
            role="menu"
            ngbDropdownMenu
          >
            @for (option of objectKeys(); track $index) {
              <li class="dropdown-item">
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    [id]="option"
                    [name]="option"
                    [checked]="cropperConfig[option]"
                    (change)="onOptionChange(option, $event)"
                  />
                  <label class="form-check-label" [for]="option">{{
                    option
                  }}</label>
                </div>
              </li>
            }
          </ul>
        </div>
      </div>
      <!--end card-body-->
    </div>
    <!--end card-->
  </div>
  <!--end col-->
</div>
<!--end row-->
