<div class="chat-box-right">
  <div
    class="p-3 d-flex justify-content-between align-items-center card-bg rounded"
  >
    <a href="" class="d-flex align-self-center">
      <div class="flex-shrink-0">
        <img
          [src]="profileDetail.image"
          alt="user"
          class="rounded-circle thumb-lg"
        />
      </div>
      <div class="flex-grow-1 ms-2 align-self-center">
        <div>
          <h6 class="my-0 fw-medium text-dark fs-14">
            {{ profileDetail.name }}
          </h6>
          <p class="text-muted mb-0">Last seen: 2 hours ago</p>
        </div>
      </div> </a
    ><!--end media-->
    <div class="d-none d-sm-inline-block align-self-center">
      <a
        href="javascript:void(0)"
        class="fs-22 me-2 text-muted"
        data-bs-toggle="tooltip"
        placement="top"
        ngbTooltip="Call"
        tooltipClass="tooltip-primary"
        ><i class="iconoir-phone"></i
      ></a>
      <a
        href="javascript:void(0)"
        class="fs-22 me-2 text-muted ms-0.5"
        data-bs-toggle="tooltip"
        placement="top"
        ngbTooltip="Video call"
        tooltipClass="tooltip-primary"
        ><i class="iconoir-video-camera"></i
      ></a>
      <a
        href="javascript:void(0)"
        class="fs-22 me-2 text-muted ms-0.5"
        data-bs-toggle="tooltip"
        placement="top"
        ngbTooltip="Delete"
        tooltipClass="tooltip-primary"
        ><i class="iconoir-trash"></i
      ></a>
      <a href="javascript:void(0)" class="fs-22 text-muted ms-0.5"
        ><i class="iconoir-menu-scale"></i
      ></a>
    </div>
  </div>
  <ngx-simplebar class="chat-body" data-simplebar #scrollRef>
    <div class="chat-detail">
      @for (chat of messageList; track $index) {
        <div
          class="d-flex"
          [ngClass]="{ 'flex-row-reverse': chat.direction == 'right' }"
        >
          <img
            [src]="
              chat.direction == 'right' ? chat.userImage : profileDetail.image
            "
            alt="user"
            class="rounded-circle thumb-md"
          />
          <div
            class="chat-box w-100"
            [ngClass]="chat.direction == 'right' ? 'me-1 reverse' : 'ms-1'"
          >
            <div class="user-chat">
              @for (msg of chat.messages; track $index) {
                <p class="">{{ msg }}</p>
              }
            </div>
            <div class="chat-time">{{ chat.time }}</div>
          </div>
          <!--end media-body-->
        </div>
        <!--end media-->
      }
    </div>
  </ngx-simplebar>
  <div class="chat-footer">
    <form [formGroup]="formData" (ngSubmit)="messageSend()">
      <div class="row">
        <div class="col-10 col-md-8">
          <input
            formControlName="message"
            type="text"
            class="form-control"
            placeholder="Type something here..."
          />
        </div>
        <div class="col-2 col-md-4 text-end">
          <div class="chat-features">
            <div class="d-none d-sm-inline-block">
              <a href="" class="me-0.5"><i class="iconoir-camera"></i></a>
              <a href="" class="me-0.5"><i class="iconoir-attachment"></i></a>
              <a href="" class="me-0.5"><i class="iconoir-microphone"></i></a>
            </div>
            <a class="text-primary" (click)="messageSend()"
              ><i class="iconoir-send-solid"></i
            ></a>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
<!--end chat-box-right -->
